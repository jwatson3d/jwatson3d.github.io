---
layout: post
title: Subversion and TortoiseSVN Installation Cookbook
date: '2005-09-05T18:57:00.000-04:00'
author: John
tags:
- OSS
modified_time: '2010-09-04T21:00:33.608-04:00'
blogger_id: tag:blogger.com,1999:blog-2811308028656623966.post-6402907383808354451
blogger_orig_url: http://pragmatic-software.blogspot.com/2005/09/subversion-and-tortoisesvn-installation.html
---

<p>After reading several good things regarding Subversion and TortoiseSVN I decided to give it a try. The “final straw” came while looking into <a href="http://ajax.schwarz-interactive.de/">Ajax.NET</a> which is housed in SVN and required installing TortoiseSVN to obtain the source. The process was so smooth and easy I decided it was worth a shot. The <a href="http://en.wikipedia.org/wiki/SCM">scm</a> options facing my little company are very typical: <ol> <li>Continue using <a href="http://msdn.microsoft.com/vstudio/previous/ssafe/">VSS</a> with it's warts - extremely slow client, requires either VPN access to servers in office or a 3rd party product such as <a href="http://www.sourcegear.com/sos/">SourceOffsite</a> to make remote access feasible, etc. <li>Purchase another solution such as <a href="http://www.sourcegear.com/vault/">Vault</a>. <li>Migrate to <a href="http://lab.msdn.microsoft.com/teamsystem/">Team Foundation Server</a> - not only is the new pricing model a “step-up“ for small ISVs but there's hidden costs as well. It requires 3-tier deployment, must install/use Active Directory, requires SQL Server 2005. Can I really afford to update memory, buy licenses, and dedicate at least three servers for what used to take just one? <li>Try something else such as <a href="http://subversion.tigris.org/">Subversion</a>.</li></ol> <p>I decided to try door #4. Below is a quick “cookbook” style approach of what it took to get it up and running. Following that are a variety of links that I found. <ol> <li>Install <a href="http://httpd.apache.org/">Apache 2</a> (2.0.54): <ol> <li>Change httpd.conf to use non-default port (Listen 81 or Listen 8080). <li>Create Windows user account ApacheUser. <li>Grant ApacheUser modify rights to C:\Program Files\Apache Group\Apache2\logs <li>Change Apache service to run as ApacheUser and restart.</li></ol> <li>Install <a href="http://subversion.tigris.org/">Subversion</a> (1.2.1): <ol> <li>Run Subversion installer. <li>Modify httpd.conf to add /svn virtual root (see TortoiseSVN docs - 3.1.4) <li>Create svn root directory somewhere (e.g. F:\svn). Note the multiple warnings that you should NOT use the Berkley DB repository format for network shares (including UNC names, mapped drives, etc.). <li>Grant ApacheUser full control rights to svn root directory (e.g. F:\svn). <li>Create Apache passwd file and add users (can optionally configure for SSPI to Windows domain - see TortoiseSVN docs). <ol> <li>bin\htpasswd -c passwd  <li>bin\htpasswd passwd </li></ol> <li>Restart Apache and test (<a href="http://localhost:81/svn/repos">http://localhost:81/svn/repos</a>)</li></ol> <li>Install <a href="http://tortoisesvn.tigris.org/">TortoiseSVN</a> (1.2.2.4299 VS.NET - ASP.NET version) which is an excellent Windows shell extension for using SVN. <ol> <li>Re-boot to get shell extension icons working. <li>Right-click on repository (e.g. F:\svn\repos) and Create Repository...</li></ol> <li>Install <a href="http://ankhsvn.tigris.org/">AnkhSVN</a> (0.5.5.1653) for VS.NET integration.<br>Edit \Application Data\AnkhSVN\ankhsvn.xml - uncomment<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;AdminDirectoryName&gt;_svn&lt;/AdminDirectoryName&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to match TortoiseSVN patch for ASP.NET files. <li>Final note for properly backing up the repository:<br>svnadmin hotcopy path/to/repository path/to/backup --clean-logs</li></ol> <p>Here's a list of links I found very helpful in addition to both the Subversion documentation and especially the TortoiseSVN documents (since it is a Windows client). <p>Cory Foy, <a href="http://www.cornetdesign.com/2005/08/getting-subversion-running-with-net.html">Getting Subversion running with .NET</a><br>Michael Flanakin,&nbsp; <a href="http://geekswithblogs.net/flanakin/archive/2004/11/16/15090.aspx">Subversion</a> and <a href="http://geekswithblogs.net/flanakin/archive/2005/08/31/51743.aspx">Windows Authentication with Subversion on Windows</a><br>Jonathan Malek, <a href="http://www.jonathanmalek.com/blog/archive/2004/09/13/219.aspx">NAnt, Subversion and VS.NET</a><br>Fritz Onion, <a href="http://www.pluralsight.com/fritz/Samples/aspdotnet_without_web_projects.htm">ASP.NET Application without Web Projects</a> ** It seems a lot of folks like this one however I did not take this route - instead I used the “patched” version of TortoiseSVN which uses “_svn” instead of “.svn” for local admin directories. <p>One interesting piece of information I found was buried in the replies of <a href="http://www.gamedev.net/community/forums/topic.asp?topic_id=341086&amp;whichpage=1?">this post</a>. Specifically, “The important thing to note is: The initial copy you used to import is not a checked out copy. It cannot be used to work with subversion. You need to check out your own copy. (Even though you already have all the files)”. <p><a href="http://geekswithblogs.net/jwatson/archive/2005/09/05/52735.aspx"><font size="1">Original post</font></a></p>  